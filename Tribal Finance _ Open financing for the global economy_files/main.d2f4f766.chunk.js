(this["webpackJsonpexternal-embed"]=this["webpackJsonpexternal-embed"]||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var a,o,r,i,c,l,u,d=n(0),s=n.n(d),p=n(37),m=n.n(p),b=n(6),h=n(7),f=n(9),g=n(8),v=n(109),x=n(106),y=n(110),S=n(16),E=n(4),O=n(5),w=O.a.div(a||(a=Object(E.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  width: 100vw;\n  box-sizing: border-box;\n  text-align: center;\n  padding: 12px;\n  background-color: ",";\n"])),(function(e){return e.backgroundColor?e.backgroundColor:"#f3f4f6"})),j=O.a.div(o||(o=Object(E.a)(["\n  max-width: 28rem;\n  margin-left: auto;\n  margin-right: auto;\n"]))),k=O.a.div(r||(r=Object(E.a)(["\n  margin-bottom: 1.5rem;\n"]))),_=O.a.h2(i||(i=Object(E.a)(["\n  color: ",";\n  font-family: ",";\n  font-size: 28px;\n  line-height: 1;\n  margin-block: 0;\n  margin-bottom: 0.4;\n"])),(function(e){return e.textColor?e.textColor:"#000"}),(function(e){return e.fontFamily?e.fontFamily:"Open-Sans"})),C=O.a.p(c||(c=Object(E.a)(["\n  font-family: ",";\n  font-size: 14px;\n  font-weight: 400;\n  color: ",";\n"])),(function(e){return e.fontFamily?e.fontFamily:"Open-Sans"}),(function(e){return e.textColor?e.textColor:"#000"})),F=O.a.a(l||(l=Object(E.a)(["\n"]))),I=O.a.img(u||(u=Object(E.a)(["\n  position: absolute;\n  display: block;\n  right: 12px;\n  bottom: 12px;\n  max-height: 18px;\n  opacity: .3;\n  transition: all .25s ease-out;\n\n  :hover {\n    opacity: 1;\n  }\n"]))),T=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return s.a.createElement(F,{target:"_blank",href:this.props.targetUrl},s.a.createElement(I,{src:"/img/beehiiv-logo.png"}))}}]),n}(d.Component);T.defaultProps={targetUrl:"https://www.beehiiv.com"};var L,P=T,z=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return s.a.createElement(w,null,s.a.createElement(j,null,s.a.createElement(k,null,s.a.createElement(_,null,"Not found"),s.a.createElement(C,null,"Oops. We can't find what you're looking for."))),s.a.createElement(P,null))}}]),n}(d.Component),R=n(107),M=n(108),A=n(2),N=n.n(A),U=n(38),B=n.n(U),D=n(39),q=n.n(D),W=n(17),G=n(40),J=n.n(G),V=n(24),H=O.a.div(L||(L=Object(E.a)(["\n  font-size: 42px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 20px;\n  color: ",";\n"])),(function(e){return e.color?e.color:"#000"})),Q=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return s.a.createElement(H,{color:this.props.color},s.a.createElement(V.Dot,null,"."),s.a.createElement(V.Dot,null,"."),s.a.createElement(V.Dot,null,"."))}}]),n}(d.Component);Q.defaultProps={color:"#000"};var Y,K,X,Z,$,ee,te,ne,ae,oe=Q,re=s.a.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor"},s.a.createElement("path",{d:"M9.5,18.2c-0.4,0.4-1,0.4-1.4,0l-3.8-3.8C4,14,4,13.4,4.3,13s1-0.4,1.4,0l3.1,3.1l8.6-8.6c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4 L9.5,18.2z"})),ie=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:this.props.className},re)}}]),n}(d.Component),ce={"Content-Type":"application/json",Accept:"application/json"},le=n(31),ue=n(42),de=function(e){var t=e.name,n=e.category,a=e.action,o=e.label,r=void 0===o?window.location.href:o,i=e.value,c=void 0===i?0:i,l=e.data,u=void 0===l?{}:l;if("undefined"!==typeof window.dataLayer){var d=new Date;window.dataLayer.push({event:t,eventProps:Object(ue.a)({category:n,action:a,label:r,value:c,timestamp:d.toISOString()},u)})}},se=O.a.form(Y||(Y=Object(E.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n"]))),pe=O.a.div(K||(K=Object(E.a)(["\n  width: 100%;\n"]))),me=O.a.label(X||(X=Object(E.a)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n"]))),be=O.a.input(Z||(Z=Object(E.a)(["\n  -webkit-text-size-adjust: 100%;\n  tab-size: 4;\n  box-sizing: border-box;\n  border: 0 solid #e5e7eb;\n  font-family: ",";\n  margin: 0;\n  appearance: none;\n  background-color: rgba(255, 255, 255);\n  border-color: ",";\n  border-width: 2px;\n  display: block;\n  font-weight: 300;\n  font-size: 1rem;\n  line-height: 1.5rem;\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n  padding-left: 1.25rem;\n  padding-right: 1.25rem;\n  color: #000;\n  width: 100%;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n\n  :focus {\n    outline: none;\n    box-shadow: none;\n  }\n"])),(function(e){return e.fontFamily?e.fontFamily:"Open-Sans"}),(function(e){return e.borderColor?e.borderColor:"rgb(61, 0, 223)"})),he=O.a.div($||($=Object(E.a)(["\n  margin-top: 0;\n"]))),fe=O.a.div(ee||(ee=Object(E.a)(["\n  margin-top: 4px;\n"]))),ge=O.a.button(te||(te=Object(E.a)(["\n  white-space: pre;\n  appearance: button;\n  -webkit-text-size-adjust: 100%;\n  tab-size: 4;\n  box-sizing: border-box;\n  border: 0 solid #e5e7eb;\n  margin: 0;\n  font-family: ",";\n  background-color: ",";\n  color: ",";\n  border-color: transparent;\n  border-width: 1px;\n  cursor: pointer;\n  display: block;\n  font-weight: 500;\n  height: 100%;\n  font-size: 1rem;\n  line-height: 1.5rem;\n  min-width: 100px;\n  transition-property: background-color, border-color, color, fill, stroke,\n    opacity, box-shadow, transform, filter, backdrop-filter,\n    -webkit-backdrop-filter;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 0.2s;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n  padding: 0 1rem;\n\n  :disabled {\n    opacity: 0.7;\n    cursor: default;\n  }\n"])),(function(e){return e.fontFamily?e.fontFamily:"Open-Sans"}),(function(e){return e.backgroundColor?e.backgroundColor:"rgb(61, 0, 223)"}),(function(e){return e.textColor?e.textColor:"#000"})),ve=O.a.p(ne||(ne=Object(E.a)(["\n  font-family: ",";\n  color: #ef4444;\n  font-size: 12px;\n"])),(function(e){return e.fontFamily?e.fontFamily:"Open-Sans"})),xe=Object(O.a)(ie)(ae||(ae=Object(E.a)(["\n  color: ",";\n  fill: ",";\n  width: 20px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: -5px;\n"])),(function(e){return e.color?e.color:"#FFF"}),(function(e){return e.color?e.color:"#FFF"})),ye=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t,n=e.target,o=n.value,r=n.name;a.updateState((t={},Object(W.a)(t,r,o),Object(W.a)(t,"error",null),t))},a.updateState=function(e){var t=Object.assign({},a.state,e);a.setState(t)},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.captchaInteractionNeeded,o=t.captchaToken,r=t.captchaLoading,i=a.props.captchaEnabled;if(i&&n)a.updateState({captchaInteractionChallengeShowing:!0});else if(i&&!o&&r)a.updateState({isSubmitting:!0,captchaPrematurelySubmitted:!0});else{var c,l=a.props.successRedirectUrl,u={external_embed_id:a.props.embedId,publication_id:a.props.publicationId,email:a.state.email,captcha_token:a.state.captchaToken,utm_source:a.props.utmSource,utm_medium:a.props.utmMedium,utm_campaign:a.props.utmCampaign,referrer:a.props.referrer,user_agent:a.props.userAgent};a.updateState({isSubmitting:!0}),(c=u,le.post("/api/submit",c,{headers:ce})).then((function(e){var t,n;if(a.updateState({isSubmitted:!0}),de({name:"submittedEmail",category:"conversion",action:"submittedEmail",label:"embedded form",data:{email:a.state.email,utm_source:a.props.utmSource,utm_medium:a.props.utmMedium,utm_campaign:a.props.utmCampaign}}),l&&(null===(t=window)||void 0===t||null===(n=t.parent)||void 0===n?void 0:n.location)){var o=new URL(l);o.searchParams.set("email",a.state.email),window.parent.location.href=o.href}else{(window.top||window.parent||window).postMessage({type:"BEEHIIV_SUBSCRIBER_FORM_SUBMITTED",email:a.state.email,externalEmbedId:a.props.embedId},"*")}})).catch((function(e){var t=N()(e,"response","data","message")||"Something went wrong";a.updateState({error:t})})).finally((function(){a.updateState({isSubmitting:!1})}))}},a.handleSubmitOnSuccessfulCaptchaInteraction=function(e){a.updateState({captchaToken:e,captchaInteractionChallengeShowing:!1,captchaPrematurelySubmitted:!1,captchaLoading:!1,captchaInteractionNeeded:!1}),a.handleSubmit(new Event("submit"))},a.handleResubmitWhenTokenGenerated=function(e){a.updateState({captchaToken:e,captchaPrematurelySubmitted:!1,captchaLoading:!1}),a.handleSubmit(new Event("submit"))},a.handleSetToken=function(e){a.updateState({captchaToken:e,captchaLoading:!1})},a.handleResetCaptcha=function(){a.updateState({captchaToken:""}),window.turnstile.reset(a.props.embedId)},a.beehiivLink=function(){var e=a.props,t=e.embedId,n=e.publicationId;return"https://beehiiv.com?utm_source=external_embed&utm_content=".concat(t,"&publication_id=").concat(n)},a.isLocked=function(){return!!a.state.isSubmitted},a.renderForm=function(){var e=a.props,t=e.inputPlaceholder,n=e.buttonText,o=e.successMessageText,r=e.config,i=e.captchaEnabled,c=e.embedId,l=e.isSlim,u=a.state,d=u.isSubmitting,p=u.isSubmitted,m=u.error,b=u.captchaInteractionChallengeShowing,h=u.captchaToken,f=N()(r,"button_color"),g=N()(r,"button_text_color"),v=N()(r,"body_font"),x=N()(r,"text_color"),y=N()(r,"button_font"),S=a.isLocked(),E=i&&!h,O=b&&l;return o&&p?s.a.createElement(C,{textColor:x,fontFamily:v},o):s.a.createElement(s.a.Fragment,null,!O&&s.a.createElement(se,{onSubmit:a.handleSubmit,captchaLoading:E},s.a.createElement(pe,null,s.a.createElement(me,{htmlFor:"email"},"Email"),s.a.createElement(be,{borderColor:f,fontFamily:y,autocomplete:"email",placeholder:t||"Enter your email",onChange:a.handleChange,value:a.state.email,disabled:S,type:"email",name:"email",required:!0})),s.a.createElement(he,null,s.a.createElement(ge,{backgroundColor:f,fontFamily:y,textColor:g,type:"submit",disabled:S},p?s.a.createElement(xe,{color:g}):d?s.a.createElement(oe,{color:g}):n))),m&&s.a.createElement(ve,{fontFamily:v},m),i&&s.a.createElement(fe,null,s.a.createElement(J.a,{widgetId:c,sitekey:"0x4AAAAAAAEd9Y5m2ti6x_A8",appearance:"interaction-only",style:{margin:O?"-12px":""},onBeforeInteractive:function(){a.updateState({captchaInteractionNeeded:!0})},onLoad:function(){a.updateState({captchaLoading:!0})},onTimeout:function(){return a.handleResetCaptcha()},onExpire:function(){return a.handleResetCaptcha()},theme:"auto",size:"normal",onVerify:function(e){var t=a.state,n=t.captchaPrematurelySubmitted;t.captchaInteractionNeeded&&e?a.handleSubmitOnSuccessfulCaptchaInteraction(e):n&&e?a.handleResubmitWhenTokenGenerated(e):a.handleSetToken(e)}})))},a.state={isSubmitting:!1,isSubmitted:!1,email:"",error:null,captchaToken:"",captchaInteractionNeeded:!1,captchaLoading:!1,captchaPrematurelySubmitted:!1,captchaInteractionChallengeShowing:!1},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.header,n=e.description,a=e.config,o=e.isSlim,r=N()(a,"background_color"),i=N()(a,"text_color"),c=N()(a,"header_font"),l=N()(a,"body_font");return o?this.renderForm():s.a.createElement(w,{backgroundColor:r},s.a.createElement(j,null,s.a.createElement(k,null,s.a.createElement(_,{textColor:i,fontFamily:c},t),s.a.createElement(C,{textColor:i,fontFamily:l},n)),this.renderForm()),s.a.createElement(P,{targetUrl:this.beehiivLink()}))}}]),n}(d.Component);ye.defaultProps={isSlim:!1};var Se=ye,Ee=n(31),Oe=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).fetchExternalEmbed=function(){var e,t=a.props.match.params.embedId;a.updateState({isLoading:!0}),(e=t,Ee.get("/api/embeds/".concat(e),{headers:ce})).then((function(e){var t=N()(e,"data"),n=N()(t,"publication_id"),o=N()(t,"header"),r=N()(t,"description"),i=N()(t,"input_placeholder"),c=N()(t,"button_text"),l=N()(t,"success_message_text"),u=N()(t,"success_redirect_url"),d=N()(t,"config"),s=N()(t,"captcha_enabled"),p=Object.assign({},a.state.config,d),m=a.fontsToLoad(p);a.updateState({publicationId:n,header:o,description:r,inputPlaceholder:i,buttonText:c,successMessageText:l,successRedirectUrl:u,config:p,requiredFonts:m,captchaEnabled:s})})).catch((function(e){var t=N()(e,"response","status"),n=N()(e,"response","data","message")||"Something went wrong";a.updateState({isNotFound:404===t,error:n})})).finally((function(){a.updateState({isLoading:!1})}))},a.updateState=function(e){var t=Object.assign({},a.state,e);a.setState(t)},a.fontsToLoad=function(e){var t=N()(e,"header_font"),n=N()(e,"body_font"),a=N()(e,"button_font"),o=[];return t&&"Open Sans"!==t&&!o.includes(t)&&o.push(t),n&&"Open Sans"!==n&&!o.includes(n)&&o.push(n),a&&"Open Sans"!==a&&!o.includes(a)&&o.push(a),o},a.state={isLoading:!1,isNotFound:!1,error:null,publicationId:null,header:null,description:null,inputPlaceholder:null,buttonText:null,successMessageText:null,successRedirectUrl:null,captchaEnabled:!1,config:{body_font:"Poppins",button_font:"Open Sans",header_font:"Poppins",button_color:"#62FF2B",background_color:"#62ECFF",text_color:"#000",button_text_color:"#000"},requiredFonts:[]},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.fetchExternalEmbed()}},{key:"render",value:function(){var e,t,n=this.props,a=n.location.search,o=n.match.params.embedId,r=q.a.parse(a,{ignoreQueryPrefix:!0}),i=!!r.slim,c=null===r||void 0===r?void 0:r.utm_source,l=null===r||void 0===r?void 0:r.utm_campaign,u=null===r||void 0===r?void 0:r.utm_medium,d=null===r||void 0===r?void 0:r.referrer,p=null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent,m=this.state,b=m.isLoading,h=m.isNotFound,f=m.publicationId,g=m.header,v=m.description,x=m.inputPlaceholder,y=m.buttonText,S=m.successMessageText,E=m.successRedirectUrl,O=m.config,w=m.requiredFonts,j=m.captchaEnabled;if(h)return s.a.createElement(R.a,{to:"/not-found"});if(b)return null;var k=w.map((function(e){return{font:e,weights:[400,700]}}));return s.a.createElement(s.a.Fragment,null,k.length>0&&s.a.createElement(B.a,{fonts:k}),s.a.createElement(Se,{embedId:o,publicationId:f,header:g,description:v,inputPlaceholder:x,buttonText:y,successMessageText:S,successRedirectUrl:E,config:O,isSlim:i,utmSource:c,utmMedium:u,utmCampaign:l,referrer:d,userAgent:p,captchaEnabled:j}))}}]),n}(d.Component),we=Object(M.a)(Oe),je=Object(S.a)(),ke=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(y.a,{history:je},s.a.createElement(v.a,null,s.a.createElement(x.a,{exact:!0,path:"/not-found",component:z}),s.a.createElement(x.a,{exact:!0,path:"/:embedId",component:we}),s.a.createElement(x.a,{component:z}))))}}]),n}(d.Component);m.a.render(s.a.createElement(ke,null),document.getElementById("root"))},48:function(e,t,n){e.exports=n(104)},65:function(e,t){}},[[48,1,2]]]);